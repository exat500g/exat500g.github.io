<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js" type="text/javascript"></script>
	<title>Spring Force Calculator</title>
  </head>
  <style>
  body{
	margin:30px;
  }
  </style>
<body>
    <h2>Spring force calculator</h1>
    <p>
        Young's modulus(E):<br/>
        <input type="text" class="form-control" value="211" id="E">GPa
    </p>
    <p>
        Poisson ratio(u):<br/>
        <input type="text" class="form-control" value="0.3" id="u">
    </p>
    <p>
        number of active windings(n):<br/>
        <input type="text" class="form-control" value="5" id="n">
    </p>
    <p>
        spring wire diameter(d):<br/>
        <input type="text" class="form-control" value="1" id="d">mm
    </p>
    <p>
        spring outer diameter(D):<br/>
        <input type="text" class="form-control" value="10" id="D">mm
    </p>
    <input type="button" value="calc" id="calc"/> 
    <p><div id="result">
    </div></p>
</body>
<script>
$(document).ready(function(){
    $("input#calc").click(function(){
        const E=Number($("input#E")[0].value)*1e9;
        const u=Number($("input#u")[0].value);
        const n=Number($("input#n")[0].value);
        const d=Number($("input#d")[0].value)*1e-3;
        const D=Number($("input#D")[0].value)*1e-3;
        const k=calcSpringK(E,u,n,d,D); 
        const v=$("div#result")[0].innerHTML="k="+k*1e-3+" N/mm"; 
    });
});
calcSpringK=function(E,u,n,d,D){
    //E=Young's modulus
    //u=Poisson ratio
    //n=number of active windings
    //d=spring wire diameter
    //D=spring outer diameter
    //F = x*k  ;hook formula
    const k=(E*Math.pow(d,4))/(16*(1+u)*Math.pow(D-d,3)*n);
    return k;
}
</script>
</html>
